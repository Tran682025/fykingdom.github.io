<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PiChordify Kingdom — FYKINGDOM v0.2</title>

  <style>
    :root{
      --bg:#050816;
      --panel:#0b1220;
      --panel-soft:#111827;
      --panel-soft-2:#1f2937;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --accent:#60a5fa;
      --accent-soft:#1d4ed8;
      --radius-lg:18px;
      --radius-md:12px;
      --shadow-main:0 20px 40px rgba(0,0,0,.55);
    }

    *{margin:0;padding:0;box-sizing:border-box;}

    body{
      min-height:100vh;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"SF Pro Text",sans-serif;
      background:radial-gradient(circle at top,#4c1d95 0,#020617 55%,#000 100%);
      color:var(--text);
    }

    .shell{
      max-width:1180px;
      margin:0 auto;
      padding:22px 14px 40px;
    }

    /* HERO */
    .hero{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:18px;
      padding:20px 22px;
      border-radius:24px;
      background:linear-gradient(135deg,#7c3aed,#ec4899);
      box-shadow:var(--shadow-main);
      margin-bottom:22px;
    }
    .hero-main{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .hero-logo-text{
      font-size:13px;
      letter-spacing:.16em;
      text-transform:uppercase;
      opacity:.9;
    }
    .hero-title{
      font-size:23px;
      font-weight:700;
    }
    .hero-sub{
      font-size:14px;
      opacity:.96;
    }

    .hero-right{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .hero-badge{
      min-width:190px;
      padding:10px 14px;
      border-radius:999px;
      background:rgba(15,23,42,.9);
      font-size:12px;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .hero-badge span:first-child{font-weight:600;}
    .hero-badge span:last-child{color:#c4b5fd;}

    .hero-logo-btn{
      border:none;
      padding:0;
      background:transparent;
      border-radius:999px;
      overflow:hidden;
      width:56px;
      height:56px;
      flex:0 0 56px;
      box-shadow:0 10px 25px rgba(15,23,42,.9);
      cursor:pointer;
      transition:transform .22s ease, box-shadow .22s ease;
    }
    .hero-logo-btn img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .hero-logo-btn:hover{
      transform:translateY(-2px) scale(1.05);
      box-shadow:0 16px 35px rgba(15,23,42,1);
    }

    @media (max-width:860px){
      .hero{
        flex-direction:column;
        align-items:flex-start;
      }
      .hero-right{
        width:100%;
        justify-content:space-between;
      }
    }

    /* MAIN LAYOUT */
    .layout{
      display:grid;
      grid-template-columns:minmax(0,1.05fr) minmax(0,1fr);
      gap:18px;
    }
    @media (max-width:900px){
      .layout{grid-template-columns:1fr;}
    }

    .panel{
      background:var(--panel);
      border-radius:var(--radius-lg);
      padding:18px 18px 16px;
      border:1px solid #1e293b;
      box-shadow:var(--shadow-main);
    }

    /* LEFT PANEL – EDITOR */
    .panel h2{
      font-size:17px;
      margin-bottom:10px;
    }
    .section-label{
      font-size:13px;
      color:var(--muted);
      margin-bottom:4px;
    }

    .tabs{
      display:flex;
      gap:8px;
      margin-bottom:12px;
    }
    .tab{
      padding:6px 12px;
      border-radius:999px;
      border:none;
      background:var(--panel-soft);
      color:var(--muted);
      font-size:13px;
      cursor:default;
    }
    .tab.is-active{
      background:#f9fafb;
      color:#111827;
    }

    .row{
      display:flex;
      gap:10px;
      margin-bottom:10px;
    }
    .row > *{flex:1;}

    .input,
    .select{
      width:100%;
      padding:8px 10px;
      border-radius:var(--radius-md);
      border:1px solid #334155;
      background:var(--panel-soft);
      color:var(--text);
      font-size:13px;
    }
    .select{appearance:none;}

    .pill-indicator{
      min-width:130px;
      padding:7px 10px;
      border-radius:999px;
      background:var(--panel-soft);
      border:1px solid #475569;
      font-size:12px;
      text-align:center;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .textarea{
      width:100%;
      min-height:110px;
      resize:vertical;
      border-radius:var(--radius-md);
      border:1px solid #334155;
      background:var(--panel-soft);
      color:var(--text);
      font-size:13px;
      padding:9px 10px;
      margin-bottom:8px;
    }

    .caption{
      font-size:11px;
      color:var(--muted);
      margin-bottom:12px;
    }

    .row-between{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }

    .link-btn{
      border:none;
      padding:7px 12px;
      border-radius:999px;
      background:var(--panel-soft);
      color:var(--text);
      font-size:12px;
      cursor:default;
    }
    .link-btn.primary{
      background:var(--panel-soft-2);
      border:1px solid #4b5563;
    }

    .mp3-row{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      gap:8px;
      margin-bottom:12px;
    }
    .mp3-row .input{flex:1 1 240px;}
    .chip{
      padding:5px 10px;
      border-radius:999px;
      border:1px solid #4b5563;
      font-size:11px;
      color:var(--muted);
    }

    .mini-note{
      margin-top:4px;
      padding-top:8px;
      border-top:1px dashed #374151;
      font-size:11px;
      color:var(--muted);
    }

    @media (max-width:640px){
      .row{flex-direction:column;}
      .row-between{
        flex-direction:column;
        align-items:flex-start;
      }
      .mp3-row{flex-direction:column;}
    }

    /* RIGHT PANEL – PLAYER */
    #fy-player header{
      margin-bottom:12px;
    }
    #fy-player-title{
      font-size:16px;
      font-weight:600;
      margin-bottom:2px;
    }
    #fy-player-note{
      font-size:12px;
      color:var(--muted);
    }

    .fy-layout{
      display:grid;
      grid-template-columns:220px minmax(0,1fr);
      gap:14px;
      margin-top:10px;
    }
    @media (max-width:900px){
      .fy-layout{grid-template-columns:1fr;}
    }

    /* library */
    #fy-library{
      background:var(--panel-soft);
      border-radius:var(--radius-md);
      padding:10px;
      max-height:360px;
      overflow-y:auto;
    }
    .fy-library-title{
      font-size:13px;
      font-weight:600;
      margin-bottom:6px;
    }
    #fy-song-list{
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .fy-song-item{
      width:100%;
      border:none;
      text-align:left;
      padding:9px 9px;
      border-radius:10px;
      background:transparent;
      color:var(--text);
      cursor:pointer;
      font-size:13px;
    }
    .fy-song-item:hover{
      background:rgba(148,163,184,.15);
    }
    .fy-song-item.is-active{
      background:var(--panel-soft-2);
      border-left:3px solid var(--accent);
    }
    .fy-song-main{font-weight:600;}
    .fy-song-artist{
      font-size:11px;
      color:var(--muted);
    }
    .fy-song-meta{
      font-size:11px;
      color:var(--muted);
      display:flex;
      gap:6px;
      margin-top:2px;
    }

    /* player body */
    #fy-song-title{
      font-size:18px;
      font-weight:700;
      margin-bottom:4px;
    }
    #fy-song-meta{
      font-size:13px;
      color:var(--muted);
      margin-bottom:10px;
    }

    #fy-timeline{
      height:9px;
      border-radius:999px;
      background:#020617;
      overflow:hidden;
      cursor:pointer;
      margin-bottom:4px;
    }
    #fy-timeline-fill{
      height:100%;
      width:0%;
      border-radius:999px;
      background:linear-gradient(90deg,#38bdf8,#a855f7);
    }
    #fy-times{
      display:flex;
      justify-content:space-between;
      font-size:11px;
      color:var(--muted);
      margin-bottom:8px;
    }

    /* volume row */
    #fy-volume-row{
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom:10px;
    }
    #fy-volume-label{
      font-size:11px;
      color:var(--muted);
      min-width:52px;
    }
    #fy-volume{
      flex:1;
      accent-color:#38bdf8;
    }
    #fy-btn-mute{
      padding:6px 12px;
      border-radius:999px;
      border:none;
      background:var(--panel-soft);
      color:var(--text);
      font-size:12px;
      cursor:pointer;
    }

    #fy-controls{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-bottom:10px;
    }
    #fy-controls button{
      padding:7px 14px;
      border-radius:999px;
      border:none;
      background:var(--panel-soft);
      color:var(--text);
      font-size:13px;
      cursor:pointer;
    }
    #fy-controls button:disabled{
      opacity:.45;
      cursor:not-allowed;
    }

    #fy-scroll-toggle{
      padding:6px 12px;
      border-radius:999px;
      border:none;
      background:var(--panel-soft-2);
      color:var(--text);
      font-size:12px;
      margin-bottom:8px;
      cursor:pointer;
    }

    #fy-scroll-container{
      max-height:230px;
      overflow-y:auto;
      padding:8px 6px 12px;
      border-radius:var(--radius-md);
      background:var(--panel-soft);
    }
    #fy-chord-sheet{
      white-space:pre-wrap;
      font-family:"Menlo","Consolas","Courier New",monospace;
      font-size:14px;
      line-height:1.55;
    }

    .fy-note{
      font-size:11px;
      color:var(--muted);
      margin-top:8px;
      margin-bottom:10px;
    }

    /* login / payment demo */
    .login-panel{
      margin-top:10px;
      padding-top:10px;
      border-top:1px dashed #374151;
    }
    .login-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:8px;
      font-size:13px;
    }
    .login-header small{
      font-size:11px;
      color:var(--muted);
    }
    .login-buttons{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-bottom:8px;
    }
    .login-btn{
      padding:7px 14px;
      border-radius:999px;
      border:none;
      background:var(--panel-soft-2);
      color:var(--text);
      font-size:12px;
      opacity:.6;
      cursor:not-allowed;
    }
    .login-btn.primary{
      background:var(--accent-soft);
    }
    .login-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-size:11px;
      color:var(--muted);
      margin-bottom:6px;
    }
    .payment-pill{
      padding:5px 10px;
      border-radius:999px;
      background:#020617;
      border:1px solid #4b5563;
    }
    .log-box{
      width:100%;
      min-height:90px;
      border-radius:var(--radius-md);
      border:1px solid #334155;
      background:#020617;
      color:#e5e7eb;
      font-family:"Menlo","Consolas","Courier New",monospace;
      font-size:11px;
      padding:8px 9px;
      resize:vertical;
    }

    /* Logo modal */
    .logo-modal{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      z-index:40;
    }
    .logo-modal.is-open{display:flex;}
    .logo-modal-backdrop{
      position:absolute;
      inset:0;
      background:rgba(15,23,42,.85);
      backdrop-filter:blur(8px);
    }
    .logo-modal-content{
      position:relative;
      max-width:90vw;
      max-height:90vh;
      border-radius:18px;
      overflow:hidden;
      box-shadow:0 30px 80px rgba(0,0,0,.9);
      border:1px solid #4c1d95;
      z-index:41;
    }
    .logo-modal-content img{
      display:block;
      max-width:100%;
      max-height:100%;
      object-fit:contain;
    }
    .logo-modal-close{
      position:absolute;
      top:8px;
      right:10px;
      border:none;
      border-radius:999px;
      padding:4px 9px;
      font-size:13px;
      cursor:pointer;
      background:rgba(15,23,42,.92);
      color:#e5e7eb;
    }
  </style>
</head>

<body>
  <div class="shell">

    <!-- HERO -->
    <section class="hero">
      <div class="hero-main">
        <div class="hero-logo-text">MUSICKINGDOM</div>
        <div class="hero-title">PiChordify Kingdom</div>
        <div class="hero-sub">
          Công cụ gợi ý hợp âm & luyện hát trong hệ sinh thái Pi – bản FYKINGDOM chạy thuần frontend.
        </div>
      </div>

      <div class="hero-right">
        <div class="hero-badge">
          <span>FYKINGDOM v0.2</span>
          <span>Golden Turtle Edition — frontend only.</span>
        </div>
        <button class="hero-logo-btn" id="mk-logo-btn" title="Musickingdom Golden Turtle">
          <img src="assets/musickingdom-golden-turtle.jpg" alt="Musickingdom Golden Turtle" />
        </button>
      </div>
    </section>

    <!-- MAIN LAYOUT -->
    <main class="layout">

      <!-- LEFT: EDITOR -->
      <section class="panel">
        <h2>Bản nhạc mới (giao diện demo)</h2>

        <div class="section-label">Nhạc cụ</div>
        <div class="tabs">
          <button class="tab is-active">Piano</button>
          <button class="tab">Guitar</button>
          <button class="tab">Ukulele</button>
        </div>

        <div class="row">
          <div>
            <div class="section-label">Tên bài</div>
            <input id="fy-input-title" class="input" placeholder="Ví dụ: Tran682025 – Demo Jam" />
          </div>
          <div>
            <div class="section-label">Giọng (key)</div>
            <select id="fy-select-key" class="select">
              <option value="G">G</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="Em">Em</option>
              <option value="Am">Am</option>
            </select>
          </div>
          <div class="pill-indicator">Tiến trình: I – V – vi – IV</div>
        </div>

        <div class="section-label">Lời + hợp âm (mỗi dòng có mốc thời gian)</div>
        <textarea id="fy-input-lyrics" class="textarea" placeholder="00:12   Em   D / ..."></textarea>

        <div class="section-label">Mẫu hợp âm cho cả bài (pattern)</div>
        <textarea id="fy-input-pattern" class="textarea" placeholder="Ví dụ: C  G  Am  F  |  F  G  Em  Am"></textarea>
        <div class="caption">
          Pattern sẽ lặp từ đầu đến cuối bài, mỗi hợp âm chia đều theo chiều dài MP3.  
          FYKINGDOM v0.2 cho phép đẩy nội dung này sang player bên phải để tập thử.
        </div>

        <div class="row-between">
          <button class="link-btn primary">Auto fill (demo)</button>
          <button class="link-btn">Tự điền hợp âm theo pattern (chưa bật)</button>
        </div>

        <div class="section-label">File MP3 (tuỳ chọn)</div>
        <div class="mp3-row">
          <input id="fy-input-mp3" class="input" placeholder="https://.../song.mp3 (có thể để trống)" />
          <span class="chip">Chọn MP3</span>
          <span class="chip">Load</span>
        </div>

        <div class="row-between">
          <div class="mini-note">
            Điền thông tin bên trên rồi bấm <b>“Đưa sang player ▶”</b> để tạo bản custom và nghe thử.
          </div>
          <button id="fy-btn-load-to-player" class="link-btn primary">Đưa sang player ▶</button>
        </div>
      </section>

      <!-- RIGHT: PLAYER + LOGIN DEMO -->
      <section class="panel" id="fy-player">
        <header>
          <div id="fy-player-title">FYKINGDOM Player</div>
          <div id="fy-player-note">
            Chọn một bản demo ở danh sách bên trái, hoặc tạo bản custom từ panel “Bản nhạc mới”.
          </div>
        </header>

        <div class="fy-layout">
          <!-- Library -->
          <aside id="fy-library">
            <div class="fy-library-title">Danh sách bản demo</div>
            <div id="fy-song-list"></div>
          </aside>

          <!-- Player body -->
          <div>
            <div id="fy-song-title">Chưa chọn bài</div>
            <div id="fy-song-meta"></div>

            <div id="fy-timeline">
              <div id="fy-timeline-fill"></div>
            </div>
            <div id="fy-times">
              <span id="fy-time-current">0:00</span>
              <span id="fy-time-total">0:00</span>
            </div>

            <div id="fy-volume-row">
              <span id="fy-volume-label">Volume</span>
              <input id="fy-volume" type="range" min="0" max="1" step="0.01" value="1" />
              <button id="fy-btn-mute">Mute</button>
            </div>

            <div id="fy-controls">
              <button id="fy-btn-play">▶ Play</button>
              <button id="fy-btn-pause" disabled>⏸ Pause</button>
              <button id="fy-btn-stop">⏹ Stop</button>
            </div>

            <button id="fy-scroll-toggle">Auto-scroll: OFF</button>

            <div id="fy-scroll-container">
              <pre id="fy-chord-sheet"></pre>
            </div>

            <div class="fy-note">
              Nếu chưa gắn file MP3, thanh thời gian sẽ giả lập độ dài 4 phút để dễ tập thử.
            </div>

            <div class="login-panel">
              <div class="login-header">
                <div>Đăng nhập & thanh toán</div>
                <small>Chế độ demo frontend – các nút đang bị khoá.</small>
              </div>

              <div class="login-buttons">
                <button class="login-btn primary">Pi Login (DEV)</button>
                <button class="login-btn">Kiểm tra Premium</button>
                <button class="login-btn">Pi Payment (OFFLINE)</button>
              </div>

              <div class="login-row">
                <span>Tất cả API / backend sẽ bật ở phiên bản kế tiếp.</span>
                <span class="payment-pill">Pi Payment LIVE: OFF</span>
              </div>

              <textarea class="log-box" readonly>Log:
- FYKINGDOM v0.2 đang chạy ở chế độ frontend-only.
- Không gửi request tới Pi Network hoặc bất kỳ backend nào.
- Dùng để trình diễn giao diện & logic player trước khi gắn Pi SDK thật.</textarea>
            </div>
          </div>
        </div>
      </section>

    </main>
  </div>

  <!-- Logo modal -->
  <div class="logo-modal" id="mk-logo-modal">
    <div class="logo-modal-backdrop"></div>
    <div class="logo-modal-content">
      <button class="logo-modal-close" id="mk-logo-close">✕</button>
      <img src="assets/musickingdom-golden-turtle.jpg" alt="Musickingdom Golden Turtle full" />
    </div>
  </div>

  <script src="index.js"></script>
</body>
</html>
